@import "tailwindcss";
@plugin "@tailwindcss/typography";

@theme {
  /* Primitive Tokens */
  --color-void: #000000;
  --color-main-forest: #254525;
  --color-accent-moss: #366336;
  --color-text-e6: #e6e6e6;
  --color-lime: #99e099;

  /* Semantic Mapping */
  --color-background: var(--color-void);
  --color-foreground: var(--color-text-e6);
  
  --color-card: var(--color-main-forest);
  --color-card-foreground: var(--color-text-e6);
  
  --color-popover: var(--color-main-forest);
  --color-popover-foreground: var(--color-text-e6);
  
  --color-primary: var(--color-lime);
  --color-primary-foreground: var(--color-void);
  
  --color-secondary: var(--color-accent-moss);
  --color-secondary-foreground: var(--color-text-e6);
  
  --color-muted: var(--color-main-forest);
  --color-muted-foreground: #a3b8a3; 
  
  --color-accent: var(--color-accent-moss);
  --color-accent-foreground: var(--color-text-e6);
  
  --color-destructive: hsl(0 62.8% 30.6%);
  --color-destructive-foreground: hsl(210 20% 90%);
  
  --color-border: var(--color-accent-moss);
  --color-input: var(--color-accent-moss);
  --color-ring: var(--color-lime);

  --radius-lg: 0.5rem;
  --radius-md: calc(0.5rem - 2px);
  --radius-sm: calc(0.5rem - 4px);
  
  --font-sans: var(--font-jetbrains);
  --font-mono: var(--font-jetbrains);
}

/* Custom properties that aren't theme colors */
:root {
  --glow-forest: rgba(37, 69, 37, 0.6);
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground antialiased;
  }
  /* Typography defaults */
  h1, h2, h3, h4, h5, h6 {
    @apply font-bold;
  }
}

@layer components {
  /* Antigravity Component Style */
  .antigravity {
    @apply bg-card border border-border transition-all duration-300;
    box-shadow: 0 8px 32px -8px var(--glow-forest);
  }

  .antigravity:hover {
    @apply border-primary;
    transform: translateY(-4px);
    box-shadow: 0 12px 40px -4px var(--glow-forest), 0 0 10px rgba(153, 224, 153, 0.1);
  }
  
  .tag {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-accent/50 text-foreground border border-border transition-colors hover:bg-primary/20 hover:text-primary hover:border-primary;
  }
}

/* Typography Plugin Overrides - Deep Canopy */
.prose,
.dark .prose,
.prose.dark\:prose-invert {
    --tw-prose-body: var(--color-text-e6);
    --tw-prose-headings: var(--color-text-e6);
    --tw-prose-lead: var(--color-muted-foreground);
    --tw-prose-links: var(--color-lime);
    --tw-prose-bold: var(--color-text-e6);
    --tw-prose-counters: var(--color-muted-foreground);
    --tw-prose-bullets: var(--color-lime);
    --tw-prose-hr: var(--color-accent-moss);
    --tw-prose-quotes: var(--color-text-e6);
    --tw-prose-quote-borders: var(--color-lime);
    --tw-prose-captions: var(--color-muted-foreground);
    --tw-prose-code: var(--color-lime);
    --tw-prose-pre-code: var(--color-text-e6);
    --tw-prose-pre-bg: var(--color-main-forest);
    --tw-prose-th-borders: var(--color-accent-moss);
    --tw-prose-td-borders: var(--color-accent-moss);
    
    /* Invert overrides for dark mode */
    --tw-prose-invert-body: var(--color-text-e6);
    --tw-prose-invert-headings: var(--color-text-e6);
    --tw-prose-invert-links: var(--color-lime);
    --tw-prose-invert-bold: var(--color-text-e6);
    --tw-prose-invert-code: var(--color-lime);
    --tw-prose-invert-pre-bg: var(--color-main-forest);
    --tw-prose-invert-bullets: var(--color-lime);
    --tw-prose-invert-quote-borders: var(--color-lime);
}

.prose a {
    @apply no-underline border-b border-primary/30 text-primary transition-colors hover:border-primary hover:bg-primary/10 rounded-sm px-0.5;
}

.prose code:not(pre code) {
    @apply bg-card px-1.5 py-0.5 rounded text-primary font-mono text-sm;
}

.prose pre {
    @apply bg-card border border-border rounded-lg;
}

.prose blockquote {
    @apply border-l-4 border-primary/50 bg-card/30 rounded-r-lg;
}

.prose h1, .prose h2, .prose h3, .prose h4 {
    @apply text-foreground font-bold;
}

.prose strong {
    @apply text-foreground;
}

.prose ul > li::marker,
.prose ol > li::marker {
    color: var(--color-lime);
}

.prose hr {
    @apply border-accent;
}

.prose table {
    @apply border border-border;
}

.prose th {
    @apply bg-card text-foreground;
}

.prose td {
    @apply border-border;
}
